<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqls>
<sqls>
	<sql id="select" paramPrefix="!">
SELECT 
受診情報.受診者コード, 
受診情報.受診日, 
受診情報.受診コース, 
コース情報.コース名, 
団体情報.団体漢字名称, 
受診情報.状態,
受診情報.総合判定, 
受診情報.治療中,
受診情報."備考(※)", 
受診情報.メモ, 
受診情報.整理番号, 
受診情報.保険事務所, 
受診情報.保険記号, 
受診情報.保険番号, 
受診情報.保険区分,
受診情報."請求金額（団体", 受診情報."請求金額（個人", 受診情報."請求金額（割引", 受診情報."税額（団体", 
受診情報."税額（個人"
FROM (受診情報 LEFT JOIN 団体情報 ON 受診情報.所属団体=団体情報.団体コード) LEFT JOIN コース情報 ON 受診情報.受診コース=コース情報.コース番号
WHERE 受診情報.受診者コード= !user_id  
<if exists="visit_date">
AND 受診情報.受診日 = !visit_date  
</if>
ORDER BY 受診情報."受診日" 
	</sql>
</sqls>